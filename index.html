<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitTracker - Weight Management App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .page {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .page.active {
            display: block;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: transform 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .login-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .social-btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.3s;
        }

        .google { background: #db4437; color: white; }
        .apple { background: #000; color: white; }
        .facebook { background: #4267B2; color: white; }
        .email { background: #34495e; color: white; }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .card h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .calorie-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .timer-display {
            text-align: center;
            font-size: 3em;
            font-weight: bold;
            color: #333;
            margin: 20px 0;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .quick-btn {
            padding: 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        .quick-btn:hover {
            background: #2980b9;
        }

        .food-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .exercise-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .exercise-card {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .exercise-card:hover {
            transform: translateY(-5px);
        }

        .remedy-section {
            margin-bottom: 30px;
        }

        .remedy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .remedy-card {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ffc107;
        }

        .nav-bar {
            background: #333;
            padding: 15px 0;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        .nav-bar ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        .nav-bar li {
            margin: 0 15px;
        }

        .nav-bar a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .nav-bar a:hover, .nav-bar a.active {
            background: #667eea;
        }

        .progress-chart {
            height: 200px;
            background: #f8f9fa;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 18px;
        }

        .ai-chat {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .chat-input {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 25px;
        }

        .badge {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            margin: 5px;
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
            
            .nav-bar ul {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <nav class="nav-bar" id="navbar" style="display: none;">
            <ul>
                <li><a href="#" onclick="showPage('dashboard')" class="active">Dashboard</a></li>
                <li><a href="#" onclick="showPage('food')">Food Counter</a></li>
                <li><a href="#" onclick="showPage('exercise')">Exercise</a></li>
                <li><a href="#" onclick="showPage('diet-chart')">Diet Chart</a></li>
                <li><a href="#" onclick="showPage('remedies')">Remedies</a></li>
                <li><a href="#" onclick="showPage('ai-trainer')">AI Trainer</a></li>
                <li><a href="#" onclick="showPage('community')">Community</a></li>
                <li><a href="#" onclick="logout()">Logout</a></li>
            </ul>
        </nav>

        <!-- Login Page -->
        <div id="login" class="page active">
            <div class="header">
                <h1>üèãÔ∏è FitTracker</h1>
                <p>Your Personal Weight Management Companion</p>
            </div>
            
            <div class="login-options">
                <button class="social-btn email" onclick="showEmailLogin()">üìß Email Login</button>
                <button class="social-btn google">üîç Google</button>
                <button class="social-btn apple">üçé Apple</button>
                <button class="social-btn facebook">üìò Facebook</button>
            </div>

            <div id="email-form" style="display: none;">
                <div class="form-group">
                    <label>Email/Phone:</label>
                    <input type="text" id="loginEmail" placeholder="Enter email or phone">
                </div>
                <div class="form-group">
                    <label>Password:</label>
                    <input type="password" id="loginPassword" placeholder="Enter password">
                </div>
                <button class="btn" onclick="login()">Login</button>
                <button class="btn" onclick="showRegistration()">New User? Register</button>
            </div>
        </div>

        <!-- Registration Page -->
        <div id="registration" class="page">
            <div class="header">
                <h1>Create Your Profile</h1>
            </div>
            
            <div class="form-group">
                <label>Name:</label>
                <input type="text" id="userName" placeholder="Enter your name">
            </div>
            
            <div class="form-group">
                <label>Age:</label>
                <input type="number" id="userAge" placeholder="Enter your age">
            </div>
            
            <div class="form-group">
                <label>Gender:</label>
                <select id="userGender">
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Height (cm):</label>
                <input type="number" id="userHeight" placeholder="Enter height in cm">
            </div>
            
            <div class="form-group">
                <label>Current Weight (kg):</label>
                <input type="number" id="userWeight" placeholder="Enter current weight">
            </div>
            
            <div class="form-group">
                <label>Target Weight (kg):</label>
                <input type="number" id="targetWeight" placeholder="Enter target weight">
            </div>
            
            <div class="form-group">
                <label>Fitness Goal:</label>
                <select id="fitnessGoal">
                    <option value="">Select Goal</option>
                    <option value="weight-loss">Weight Loss</option>
                    <option value="weight-gain">Weight Gain</option>
                    <option value="maintain">Maintain Weight</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Medical Conditions:</label>
                <select id="medicalConditions" multiple>
                    <option value="none">None</option>
                    <option value="thyroid">Thyroid</option>
                    <option value="cervical">Cervical</option>
                    <option value="migraine">Migraine</option>
                    <option value="diabetes">Diabetes</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Activity Level:</label>
                <select id="activityLevel">
                    <option value="">Select Activity Level</option>
                    <option value="sedentary">Sedentary</option>
                    <option value="moderate">Moderate</option>
                    <option value="active">Active</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Diet Preference:</label>
                <select id="dietPreference">
                    <option value="">Select Diet Type</option>
                    <option value="vegetarian">Vegetarian</option>
                    <option value="non-vegetarian">Non-Vegetarian</option>
                </select>
            </div>
            
            <button class="btn" onclick="completeRegistration()">Complete Setup</button>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="page">
            <div class="header">
                <h1>Welcome, <span id="welcomeName">User</span>! üëã</h1>
            </div>
            
            <div class="calorie-display">
                <div>
                    <h3>Calories In</h3>
                    <div id="caloriesIn">0</div>
                </div>
                <div style="text-align: center;">
                    <h3>Goal</h3>
                    <div id="calorieGoal">2000</div>
                </div>
                <div>
                    <h3>Calories Out</h3>
                    <div id="caloriesOut">0</div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <h3>‚è±Ô∏è Exercise Timer</h3>
                    <div class="timer-display" id="timerDisplay">00:00</div>
                    <button class="btn" onclick="startTimer()">Start</button>
                    <button class="btn" onclick="pauseTimer()">Pause</button>
                    <button class="btn" onclick="resetTimer()">Reset</button>
                </div>

                <div class="card">
                    <h3>üíß Water Intake</h3>
                    <div style="text-align: center; margin-bottom: 15px;">
                        <div style="font-size: 2em; color: #3498db;" id="waterProgress">0/0</div>
                        <p>Glasses (Target based on body weight)</p>
                    </div>
                    <button class="btn" onclick="logWater()">Add Glass üíß</button>
                    <button class="btn" onclick="resetWater()">Reset</button>
                </div>

                <div class="card">
                    <h3>üëü Step Counter</h3>
                    <div style="text-align: center; margin-bottom: 15px;">
                        <div style="font-size: 2em; color: #e74c3c;" id="stepProgress">0/10000</div>
                        <p>Steps (Daily Goal: 10,000)</p>
                    </div>
                    <button class="btn" onclick="addSteps()">Add Steps üëü</button>
                    <button class="btn" onclick="resetSteps()">Reset</button>
                </div>

                <div class="card">
                    <h3>üìä Quick Actions</h3>
                    <div class="quick-actions">
                        <button class="quick-btn" onclick="showPage('food')">üçΩÔ∏è Add Food</button>
                        <button class="quick-btn" onclick="showPage('exercise')">üèãÔ∏è Add Exercise</button>
                        <button class="quick-btn" onclick="showPage('diet-chart')">üìã Diet Chart</button>
                        <button class="quick-btn" onclick="showWeightProgress()">‚öñÔ∏è Weight Progress</button>
                    </div>
                </div>

                <div class="card">
                    <h3>üìà Progress Tracker</h3>
                    <div class="progress-chart">Weight Progress Chart</div>
                    <p>Current Streak: <span id="currentStreak">0</span> days</p>
                </div>
            </div>
        </div>

        <!-- Food Counter -->
        <div id="food" class="page">
            <div class="header">
                <h1>üçΩÔ∏è Food & Calorie Counter</h1>
            </div>
            
            <div class="card">
                <h3>Add Food</h3>
                <div class="form-group">
                    <input type="text" id="foodName" placeholder="Enter food name (e.g., 2 chapatis)">
                </div>
                <button class="btn" onclick="addFood()">Add Food</button>
                <button class="btn" onclick="scanBarcode()">üì∑ Scan Barcode</button>
                <button class="btn" onclick="aiRecognition()">ü§ñ AI Photo Recognition</button>
            </div>

            <div class="card">
                <h3>Today's Food Log</h3>
                <div id="foodLog">
                    <div class="food-item">
                        <span>2 Chapatis</span>
                        <span>200 kcal</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Custom Meals</h3>
                <button class="btn" onclick="createCustomMeal()">Create Custom Recipe</button>
            </div>
        </div>

        <!-- Exercise Section -->
        <div id="exercise" class="page">
            <div class="header">
                <h1>üèãÔ∏è Exercise Section</h1>
            </div>
            
            <div class="card">
                <h3>Weight Loss Exercises</h3>
                <div class="exercise-list">
                    <div class="exercise-card" onclick="startExercise('HIIT')">
                        <h4>üî• HIIT Routines</h4>
                        <p>High-intensity interval training</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Cardio')">
                        <h4>üö¥ Cardio</h4>
                        <p>Cycling, jogging, skipping</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Yoga')">
                        <h4>üßò Yoga & Breathing</h4>
                        <p>Fat burn yoga exercises</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Swimming')">
                        <h4>üèä Swimming</h4>
                        <p>Full body fat burning</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Dancing')">
                        <h4>üíÉ Dance Workout</h4>
                        <p>Fun cardio dance routines</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Walking')">
                        <h4>üö∂ Brisk Walking</h4>
                        <p>Low impact cardio</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Weight Gain Exercises</h3>
                <div class="exercise-list">
                    <div class="exercise-card" onclick="startExercise('Strength')">
                        <h4>üí™ Strength Training</h4>
                        <p>Push/Pull/Legs split</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Compound')">
                        <h4>üèãÔ∏è Compound Lifts</h4>
                        <p>Squats, bench, deadlift</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Bodyweight')">
                        <h4>ü§∏ Bodyweight Training</h4>
                        <p>Push-ups, pull-ups, dips</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Powerlifting')">
                        <h4>‚ö° Powerlifting</h4>
                        <p>Heavy compound movements</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Calisthenics')">
                        <h4>ü§æ Calisthenics</h4>
                        <p>Advanced bodyweight skills</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Resistance')">
                        <h4>üîó Resistance Band</h4>
                        <p>Portable strength training</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>General Fitness</h3>
                <div class="exercise-list">
                    <div class="exercise-card" onclick="startExercise('Stretching')">
                        <h4>ü§∏ Stretching</h4>
                        <p>Flexibility and mobility</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Pilates')">
                        <h4>üßò Pilates</h4>
                        <p>Core strength and stability</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('Martial Arts')">
                        <h4>ü•ã Martial Arts</h4>
                        <p>Self-defense and fitness</p>
                    </div>
                    <div class="exercise-card" onclick="startExercise('CrossFit')">
                        <h4>‚ö° CrossFit</h4>
                        <p>Varied functional movements</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Exercise Timer</h3>
                <div class="timer-display" id="exerciseTimer">00:00</div>
                <button class="btn" onclick="startExerciseTimer()">Start Set</button>
                <button class="btn" onclick="startRest()">Rest (30s)</button>
            </div>
        </div>

        <!-- Diet Chart Section -->
        <div id="diet-chart" class="page">
            <div class="header">
                <h1>üìã Personalized Diet Chart</h1>
            </div>
            
            <div class="card">
                <h3>Your Diet Plan</h3>
                <div style="text-align: center; margin-bottom: 20px;">
                    <button class="btn" onclick="generateDietChart()">Generate My Diet Chart</button>
                </div>
                <div id="dietChartContent">
                    <p>Click "Generate My Diet Chart" to get your personalized meal plan based on your goals and diet preference.</p>
                </div>
            </div>
        </div>

        <!-- Remedies Section -->
        <div id="remedies" class="page">
            <div class="header">
                <h1>üåø Natural Remedies</h1>
            </div>
            
            <div class="remedy-section">
                <h2>Weight Loss Remedies</h2>
                <div class="remedy-grid">
                    <div class="remedy-card">
                        <h4>üçµ Green Tea</h4>
                        <p>Drink 2-3 cups daily for metabolism boost</p>
                    </div>
                    <div class="remedy-card">
                        <h4>üçã Lemon Water</h4>
                        <p>Start your day with warm lemon water</p>
                    </div>
                    <div class="remedy-card">
                        <h4>‚è∞ Intermittent Fasting</h4>
                        <p>16:8 method for effective weight loss</p>
                    </div>
                </div>
            </div>

            <div class="remedy-section">
                <h2>Weight Gain Remedies</h2>
                <div class="remedy-grid">
                    <div class="remedy-card">
                        <h4>ü•§ High-Calorie Smoothies</h4>
                        <p>Banana, oats, nuts, and milk blend</p>
                    </div>
                    <div class="remedy-card">
                        <h4>ü•ë Healthy Fats</h4>
                        <p>Avocado, nuts, olive oil daily</p>
                    </div>
                    <div class="remedy-card">
                        <h4>üåø Appetite Boosters</h4>
                        <p>Natural herbs to increase appetite</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Trainer -->
        <div id="ai-trainer" class="page">
            <div class="header">
                <h1>ü§ñ AI Personal Trainer</h1>
            </div>
            
            <div class="ai-chat">
                <h3>Chat with Your AI Coach</h3>
                <div id="chatMessages">
                    <p><strong>AI:</strong> Hello! I'm your personal fitness coach. How can I help you today?</p>
                </div>
                <div class="chat-input">
                    <input type="text" id="chatInput" placeholder="Ask me anything about fitness, nutrition, or workouts...">
                    <button class="btn" onclick="sendMessage()">Send</button>
                </div>
            </div>

            <div class="card">
                <h3>üìã Your Custom Plan</h3>
                <div id="customPlan">
                    <p>Your personalized meal and workout plan will appear here based on your goals.</p>
                </div>
                <button class="btn" onclick="generatePlan()">Generate New Plan</button>
            </div>

            <div class="card">
                <h3>üéØ Today's Recommendations</h3>
                <div id="recommendations">
                    <p>‚Ä¢ Complete 30 minutes of cardio</p>
                    <p>‚Ä¢ Drink ${waterTarget} glasses of water</p>
                    <p>‚Ä¢ Walk ${stepGoal} steps today</p>
                    <p>‚Ä¢ Eat protein-rich breakfast</p>
                </div>
            </div>
        </div>

        <!-- Community -->
        <div id="community" class="page">
            <div class="header">
                <h1>üë• Community & Challenges</h1>
            </div>
            
            <div class="card">
                <h3>üèÜ Active Challenges</h3>
                <div class="exercise-list">
                    <div class="exercise-card">
                        <h4>7-Day Sugar Detox</h4>
                        <p>Join 1,234 participants</p>
                        <button class="btn">Join Challenge</button>
                    </div>
                    <div class="exercise-card">
                        <h4>10K Steps Daily</h4>
                        <p>Join 2,567 participants</p>
                        <button class="btn">Join Challenge</button>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üèÖ Your Badges</h3>
                <div>
                    <span class="badge">üî• 7-Day Streak</span>
                    <span class="badge">üí™ First Workout</span>
                    <span class="badge">ü•ó Healthy Eater</span>
                </div>
            </div>

            <div class="card">
                <h3>üë´ Friends & Groups</h3>
                <button class="btn">Find Friends</button>
                <button class="btn">Join Groups</button>
                <button class="btn">Share Progress</button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = {};
        let timer = { minutes: 0, seconds: 0, interval: null, running: false };
        let caloriesIn = 0;
        let caloriesOut = 0;
        let waterGlasses = 0;
        let waterTarget = 8;
        let sleepHours = 0;
        let dailySteps = 0;
        let stepGoal = 10000;

        // Page navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            // Update nav active state
            document.querySelectorAll('.nav-bar a').forEach(link => link.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Login functions
        function showEmailLogin() {
            document.getElementById('email-form').style.display = 'block';
        }

        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (email && password) {
                // Simulate login
                currentUser = { email: email, name: 'User' };
                document.getElementById('navbar').style.display = 'block';
                showPage('dashboard');
                updateDashboard();
            } else {
                alert('Please enter email and password');
            }
        }

        function showRegistration() {
            showPage('registration');
        }

        function completeRegistration() {
            const name = document.getElementById('userName').value;
            const age = document.getElementById('userAge').value;
            const gender = document.getElementById('userGender').value;
            const height = document.getElementById('userHeight').value;
            const weight = document.getElementById('userWeight').value;
            const targetWeight = document.getElementById('targetWeight').value;
            const goal = document.getElementById('fitnessGoal').value;
            const activity = document.getElementById('activityLevel').value;
            const dietPreference = document.getElementById('dietPreference').value;

            if (name && age && gender && height && weight && targetWeight && goal && activity && dietPreference) {
                currentUser = {
                    name, age, gender, height, weight, targetWeight, goal, activity, dietPreference
                };
                
                // Calculate calorie goal and water target
                calculateCalorieGoal();
                calculateWaterTarget();
                
                document.getElementById('navbar').style.display = 'block';
                showPage('dashboard');
                updateDashboard();
            } else {
                alert('Please fill all required fields');
            }
        }

        function calculateCalorieGoal() {
            // Basic BMR calculation
            let bmr;
            if (currentUser.gender === 'male') {
                bmr = 88.362 + (13.397 * currentUser.weight) + (4.799 * currentUser.height) - (5.677 * currentUser.age);
            } else {
                bmr = 447.593 + (9.247 * currentUser.weight) + (3.098 * currentUser.height) - (4.330 * currentUser.age);
            }

            // Activity multiplier
            const activityMultipliers = {
                'sedentary': 1.2,
                'moderate': 1.55,
                'active': 1.725
            };

            let calorieGoal = bmr * activityMultipliers[currentUser.activity];

            // Adjust based on goal
            if (currentUser.goal === 'weight-loss') {
                calorieGoal -= 500; // 500 calorie deficit
            } else if (currentUser.goal === 'weight-gain') {
                calorieGoal += 500; // 500 calorie surplus
            }

            document.getElementById('calorieGoal').textContent = Math.round(calorieGoal);
        }

        function updateDashboard() {
            document.getElementById('welcomeName').textContent = currentUser.name || 'User';
            document.getElementById('caloriesIn').textContent = caloriesIn;
            document.getElementById('caloriesOut').textContent = caloriesOut;
            updateWaterDisplay();
            updateStepDisplay();
        }

        function calculateWaterTarget() {
            // Water intake: 35ml per kg body weight
            waterTarget = Math.round((currentUser.weight * 0.035) / 0.25); // Convert to 250ml glasses
        }

        function updateWaterDisplay() {
            if (document.getElementById('waterProgress')) {
                document.getElementById('waterProgress').textContent = `${waterGlasses}/${waterTarget}`;
            }
        }

        function logout() {
            currentUser = {};
            caloriesIn = 0;
            caloriesOut = 0;
            waterGlasses = 0;
            dailySteps = 0;
            document.getElementById('navbar').style.display = 'none';
            showPage('login');
        }

        // Timer functions
        function startTimer() {
            if (!timer.running) {
                timer.running = true;
                timer.interval = setInterval(updateTimer, 1000);
            }
        }

        function pauseTimer() {
            timer.running = false;
            clearInterval(timer.interval);
        }

        function resetTimer() {
            timer.running = false;
            clearInterval(timer.interval);
            timer.minutes = 0;
            timer.seconds = 0;
            updateTimerDisplay();
        }

        function updateTimer() {
            timer.seconds++;
            if (timer.seconds >= 60) {
                timer.minutes++;
                timer.seconds = 0;
            }
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const display = `${timer.minutes.toString().padStart(2, '0')}:${timer.seconds.toString().padStart(2, '0')}`;
            document.getElementById('timerDisplay').textContent = display;
            if (document.getElementById('exerciseTimer')) {
                document.getElementById('exerciseTimer').textContent = display;
            }
        }

        // Food functions
        function addFood() {
            const foodName = document.getElementById('foodName').value;
            if (foodName) {
                // Simple calorie estimation
                const calories = estimateCalories(foodName);
                caloriesIn += calories;
                
                const foodLog = document.getElementById('foodLog');
                const foodItem = document.createElement('div');
                foodItem.className = 'food-item';
                foodItem.innerHTML = `<span>${foodName}</span><span>${calories} kcal</span>`;
                foodLog.appendChild(foodItem);
                
                document.getElementById('foodName').value = '';
                updateDashboard();
            }
        }

        function estimateCalories(foodName) {
            // Basic calorie estimation
            const calorieDatabase = {
                'chapati': 100,
                'rice': 150,
                'dal': 120,
                'chicken': 200,
                'egg': 70,
                'banana': 90,
                'apple': 80
            };
            
            let calories = 100; // default
            for (let food in calorieDatabase) {
                if (foodName.toLowerCase().includes(food)) {
                    calories = calorieDatabase[food];
                    break;
                }
            }
            
            // Check for quantity
            const numbers = foodName.match(/\d+/);
            if (numbers) {
                calories *= parseInt(numbers[0]);
            }
            
            return calories;
        }

        function scanBarcode() {
            alert('Barcode scanner would open camera here');
        }

        function aiRecognition() {
            alert('AI photo recognition would open camera here');
        }

        function createCustomMeal() {
            alert('Custom meal creator would open here');
        }

        // Exercise functions
        function startExercise(type) {
            alert(`Starting ${type} workout! Timer will begin.`);
            resetTimer();
            startTimer();
        }

        function startExerciseTimer() {
            startTimer();
        }

        function startRest() {
            alert('Rest period started! You\'ll hear a voice prompt when it\'s over.');
            setTimeout(() => {
                alert('Rest over, start next set!');
            }, 30000);
        }

        // Quick action functions
        function logWater() {
            waterGlasses++;
            updateWaterDisplay();
            if (waterGlasses >= waterTarget) {
                alert(`üéâ Great job! You've reached your daily water goal of ${waterTarget} glasses!`);
            } else {
                alert(`üíß Water logged! ${waterTarget - waterGlasses} more glasses to reach your goal.`);
            }
        }

        function resetWater() {
            waterGlasses = 0;
            updateWaterDisplay();
        }

        function addSteps() {
            const steps = prompt('How many steps did you walk?');
            if (steps && !isNaN(steps)) {
                dailySteps += parseInt(steps);
                updateStepDisplay();
                
                // Calculate calories burned (rough estimate: 1 step = 0.04 calories)
                const caloriesBurned = Math.round(parseInt(steps) * 0.04);
                caloriesOut += caloriesBurned;
                updateDashboard();
                
                if (dailySteps >= stepGoal) {
                    alert(`üéâ Congratulations! You've reached your daily step goal of ${stepGoal} steps!`);
                } else {
                    alert(`üëü Steps added! ${stepGoal - dailySteps} more steps to reach your goal. Calories burned: ${caloriesBurned}`);
                }
            }
        }

        function resetSteps() {
            dailySteps = 0;
            updateStepDisplay();
        }

        function updateStepDisplay() {
            if (document.getElementById('stepProgress')) {
                document.getElementById('stepProgress').textContent = `${dailySteps}/${stepGoal}`;
            }
        }

        function showWeightProgress() {
            const current = currentUser.weight || 0;
            const target = currentUser.targetWeight || 0;
            const diff = Math.abs(target - current);
            const direction = target > current ? 'gain' : 'lose';
            alert(`Current: ${current}kg\nTarget: ${target}kg\nYou need to ${direction} ${diff}kg to reach your goal!`);
        }

        function generateDietChart() {
            const goal = currentUser.goal;
            const calorieGoal = document.getElementById('calorieGoal').textContent;
            
            let dietChart = '';
            
            if (goal === 'weight-loss') {
                dietChart = `
                    <h4>üå± Vegetarian Weight Loss Diet (${calorieGoal} calories/day)</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>üåÖ Breakfast (300 cal):</strong><br>
                        ‚Ä¢ 1 bowl oatmeal with berries and almonds<br>
                        ‚Ä¢ 1 cup green tea
                    </div>
                    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>ü•ó Mid-Morning (100 cal):</strong><br>
                        ‚Ä¢ 1 apple or 1 cup green tea
                    </div>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>üçΩÔ∏è Lunch (400 cal):</strong><br>
                        ‚Ä¢ 2 chapati + 1 bowl dal + mixed vegetable salad<br>
                        ‚Ä¢ 1 cup buttermilk
                    </div>
                    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>ü•ú Evening (150 cal):</strong><br>
                        ‚Ä¢ Handful of nuts or 1 cup herbal tea with 2 biscuits
                    </div>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>üåô Dinner (350 cal):</strong><br>
                        ‚Ä¢ Vegetable soup + grilled paneer salad<br>
                        ‚Ä¢ 1 small bowl brown rice
                    </div>
                `;
            } else if (goal === 'weight-gain') {
                dietChart = `
                    <h4>üå± Vegetarian Weight Gain Diet (${calorieGoal} calories/day)</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>üåÖ Breakfast (500 cal):</strong><br>
                        ‚Ä¢ Banana-oats smoothie with nuts and honey<br>
                        ‚Ä¢ 2 whole wheat parathas with ghee
                    </div>
                    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>ü•ó Mid-Morning (300 cal):</strong><br>
                        ‚Ä¢ Dry fruits and nuts mix + 1 glass milk
                    </div>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>üçΩÔ∏è Lunch (600 cal):</strong><br>
                        ‚Ä¢ 3 chapati + dal + paneer curry + rice<br>
                        ‚Ä¢ 1 glass lassi
                    </div>
                    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>ü•ú Evening (400 cal):</strong><br>
                        ‚Ä¢ Protein smoothie with banana and peanut butter
                    </div>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>üåô Dinner (500 cal):</strong><br>
                        ‚Ä¢ Vegetable biryani + raita<br>
                        ‚Ä¢ 1 bowl kheer or sweet dish
                    </div>
                `;
            } else {
                dietChart = `
                    <h4>üå± Vegetarian Weight Maintenance Diet (${calorieGoal} calories/day)</h4>
                    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <p>Balanced vegetarian diet with equal portions of:</p>
                        ‚Ä¢ <strong>Proteins:</strong> Dal, paneer, nuts, yogurt, quinoa<br>
                        ‚Ä¢ <strong>Carbs:</strong> Brown rice, quinoa, oats, whole wheat<br>
                        ‚Ä¢ <strong>Fats:</strong> Olive oil, nuts, avocado, ghee<br>
                        ‚Ä¢ <strong>Vegetables:</strong> 5-7 servings daily<br>
                        ‚Ä¢ <strong>Fruits:</strong> 2-3 servings daily<br>
                        ‚Ä¢ <strong>Water:</strong> ${waterTarget} glasses daily
                    </div>
                `;
            }
            
            dietChart += `
                <div style="background: #f8d7da; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #dc3545;">
                    <strong>üí° Important Tips:</strong><br>
                    ‚Ä¢ Drink ${waterTarget} glasses of water daily<br>
                    ‚Ä¢ Eat every 2-3 hours<br>
                    ‚Ä¢ Avoid processed foods and sugary drinks<br>
                    ‚Ä¢ Include physical activity as per your exercise plan<br>
                    ‚Ä¢ Focus on plant-based proteins for complete nutrition
                </div>
            `;
            
            document.getElementById('dietChartContent').innerHTML = dietChart;
        }

        function logSleep() {
            const hours = prompt('How many hours did you sleep?');
            if (hours) {
                sleepHours = parseFloat(hours);
                alert(`Sleep logged: ${sleepHours} hours`);
            }
        }

        // AI Trainer functions
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                const chatMessages = document.getElementById('chatMessages');
                
                // Add user message
                const userMsg = document.createElement('p');
                userMsg.innerHTML = `<strong>You:</strong> ${message}`;
                chatMessages.appendChild(userMsg);
                
                // Add AI response
                setTimeout(() => {
                    const aiMsg = document.createElement('p');
                    aiMsg.innerHTML = `<strong>AI:</strong> ${getAIResponse(message)}`;
                    chatMessages.appendChild(aiMsg);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1000);
                
                input.value = '';
            }
        }

        function getAIResponse(message) {
            const msg = message.toLowerCase();
            
            // Meal suggestions
            if (msg.includes('breakfast')) return 'Healthy breakfast options: Oatmeal with berries and nuts (300 cal), Greek yogurt with honey (200 cal), or scrambled eggs with vegetables (250 cal).';
            if (msg.includes('lunch')) return 'Nutritious lunch ideas: Quinoa salad with grilled chicken (400 cal), vegetable soup with whole grain bread (350 cal), or tuna sandwich on whole wheat (380 cal).';
            if (msg.includes('dinner')) return 'Light dinner options: Grilled salmon with steamed broccoli (350 cal), chicken stir-fry with brown rice (400 cal), or lentil curry with chapati (380 cal).';
            if (msg.includes('snack')) return 'Healthy snacks: Apple with almond butter (180 cal), Greek yogurt (100 cal), mixed nuts (160 cal), or carrot sticks with hummus (120 cal).';
            
            // Exercise suggestions
            if (msg.includes('cardio')) return 'Cardio options: 30-min brisk walk (150 cal burned), 20-min cycling (200 cal), 15-min HIIT (250 cal), or 25-min swimming (300 cal).';
            if (msg.includes('strength')) return 'Strength training: 3 sets of push-ups (10-15 reps), squats (15-20 reps), lunges (10 each leg), and planks (30-60 seconds).';
            if (msg.includes('abs') || msg.includes('core')) return 'Core workout: Planks (3x30s), bicycle crunches (3x20), Russian twists (3x15), mountain climbers (3x20), and dead bugs (3x10 each side).';
            if (msg.includes('arms')) return 'Arm exercises: Push-ups (3x10), tricep dips (3x12), arm circles (2x20), wall push-ups (3x15), and resistance band curls (3x15).';
            if (msg.includes('legs')) return 'Leg workout: Squats (3x15), lunges (3x10 each), calf raises (3x20), wall sits (3x30s), and step-ups (3x12 each leg).';
            
            // Weight management
            if (msg.includes('weight loss')) return `For weight loss: Create 500-cal daily deficit, eat protein-rich foods, do 150min cardio weekly, drink ${Math.round(currentUser.weight * 0.035)} glasses water daily, and get 7-8 hours sleep.`;
            if (msg.includes('weight gain')) return 'For weight gain: Eat 500-cal surplus daily, focus on protein (1.6g per kg body weight), do strength training 3-4x weekly, eat frequent meals, and include healthy fats.';
            if (msg.includes('muscle')) return 'Muscle building: Eat 1.6-2.2g protein per kg body weight, progressive overload in workouts, compound exercises, adequate rest between sessions, and 7-9 hours sleep.';
            
            // Nutrition
            if (msg.includes('protein')) return 'Protein sources: Chicken breast (25g per 100g), eggs (6g each), Greek yogurt (15g per cup), lentils (18g per cup), and quinoa (8g per cup).';
            if (msg.includes('water')) return `Daily water intake: ${Math.round(currentUser.weight * 0.035)} glasses based on your weight. Drink more during exercise and hot weather.`;
            if (msg.includes('steps') || msg.includes('walking')) return `Daily step goal: ${stepGoal} steps. Current: ${dailySteps} steps. Walking burns about 0.04 calories per step. Keep moving!`;
            if (msg.includes('diet plan') || msg.includes('meal plan')) return `I can create a personalized diet chart for you! Go to the Diet Chart section or ask me about specific ${currentUser.dietPreference || 'vegetarian/non-vegetarian'} meal suggestions for ${currentUser.goal || 'your goal'}.`;
            if (msg.includes('calories')) return `Your daily calorie goal is ${document.getElementById('calorieGoal').textContent} calories. Track everything you eat and aim for nutrient-dense foods.`;
            
            // Motivation and tips
            if (msg.includes('motivation') || msg.includes('tired')) return 'Stay motivated: Set small daily goals, track progress, reward achievements, find a workout buddy, and remember why you started!';
            if (msg.includes('plateau')) return 'Break plateaus: Change your workout routine, adjust calorie intake, increase protein, try intermittent fasting, or add more sleep.';
            if (msg.includes('sleep')) return 'Better sleep: No screens 1hr before bed, keep room cool and dark, consistent sleep schedule, avoid caffeine after 2pm, and try relaxation techniques.';
            
            return `I can help with: personalized ${currentUser.dietPreference || 'veg/non-veg'} meal planning, workout routines, weight management, nutrition advice, motivation tips, and specific fitness questions. What would you like to know?`;
        }

        function generatePlan() {
            const goal = currentUser.goal || 'maintain';
            const plans = {
                'weight-loss': 'Breakfast: Oatmeal with berries\nLunch: Grilled chicken salad\nDinner: Steamed vegetables with fish\nWorkout: 30 min cardio + strength training',
                'weight-gain': 'Breakfast: Protein smoothie with banana\nLunch: Rice with chicken and vegetables\nDinner: Pasta with meat sauce\nWorkout: Strength training focus',
                'maintain': 'Balanced meals with moderate portions\nRegular exercise routine\nStay hydrated and get adequate sleep'
            };
            
            document.getElementById('customPlan').innerHTML = `<pre>${plans[goal]}</pre>`;
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Set up enter key for chat
            document.getElementById('chatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Set up enter key for login
            document.getElementById('loginPassword').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    login();
                }
            });
        });
    </script>
</body>
</html>